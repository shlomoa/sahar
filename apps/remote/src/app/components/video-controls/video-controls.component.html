<div class="video-controls" role="region" aria-label="Video controls">
  <!-- Back to scenes for easy escape -->
  <div class="top-row" role="group" aria-label="Navigation">
    <button
      mat-raised-button
      color="primary"
      class="control-btn control-btn--lg"
      (click)="onBackToScenes()"
      aria-label="Back to scenes">
      <mat-icon class="control-icon">arrow_back</mat-icon>
      Back
    </button>
  </div>

  <!-- Current scene info with sync status -->
  <mat-card class="current-scene-info" aria-live="polite" role="status">
    <mat-card-content>
      <h3>
        <span aria-hidden="true">ðŸ“º</span>
        {{ currentVideo?.title || 'Video' }}
      </h3>
      <p><strong>Scene:</strong> {{ currentScene?.title || 'Selected scene' }}</p>
      <div class="sync-indicator synced" aria-label="Synchronized with TV">
        <mat-icon>sync</mat-icon>
        <span>Synchronized with TV</span>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Primary transport controls -->
  <div class="control-buttons" role="group" aria-label="Playback controls">
    <div class="playback-controls">
      <button
        mat-raised-button
        color="primary"
        class="control-btn scene-nav-btn"
        (click)="onControlCommand('previous-scene')"
        [disabled]="!hasPreviousScene"
        aria-label="Previous scene"
        [attr.aria-disabled]="!hasPreviousScene">
        <mat-icon class="control-icon">skip_previous</mat-icon>
        Previous
      </button>

      <button
        mat-raised-button
        color="accent"
        class="control-btn control-btn--xl play-pause-btn"
        (click)="onControlCommand('play-pause')"
        [attr.aria-pressed]="isPlaying"
        [attr.aria-label]="isPlaying ? 'Pause' : 'Play'">
        <mat-icon class="control-icon control-icon--xl">{{ isPlaying ? 'pause' : 'play_arrow' }}</mat-icon>
        {{ isPlaying ? 'Pause' : 'Play' }}
      </button>

      <button
        mat-raised-button
        color="primary"
        class="control-btn scene-nav-btn"
        (click)="onControlCommand('next-scene')"
        [disabled]="!hasNextScene"
        aria-label="Next scene"
        [attr.aria-disabled]="!hasNextScene">
        <mat-icon class="control-icon">skip_next</mat-icon>
        Next
      </button>
    </div>

    <div class="seek-controls" role="group" aria-label="Seek controls">
      <button
        mat-raised-button
        class="control-btn"
        (click)="onControlCommand('rewind')"
        aria-label="Rewind ten seconds">
        <mat-icon class="control-icon">replay_10</mat-icon>
        -10s
      </button>

      <button
        mat-raised-button
        class="control-btn"
        (click)="onControlCommand('fast-forward')"
        aria-label="Fast forward ten seconds">
        <mat-icon class="control-icon">forward_10</mat-icon>
        +10s
      </button>
    </div>

    <div class="volume-controls" role="group" aria-label="Volume controls">
      <button
        mat-raised-button
        class="control-btn"
        (click)="decrementVolume(10)"
        aria-label="Decrease volume">
        <mat-icon class="control-icon">volume_down</mat-icon>
        -
      </button>

      <label class="sr-only" for="volumeSlider">Volume</label>
      <input
        id="volumeSlider"
        type="range"
        min="0"
        max="100"
        step="1"
        [value]="volumeLevel"
        (input)="onVolumeChange(+($any($event).target.value))"
        class="volume-slider"
        aria-valuemin="0"
        aria-valuemax="100"
        [attr.aria-valuenow]="volumeLevel"
        aria-label="Volume slider">
      <span class="volume-label">{{ volumeLevel }}%</span>

      <button
        mat-raised-button
        class="control-btn"
        (click)="incrementVolume(10)"
        aria-label="Increase volume">
        <mat-icon class="control-icon">volume_up</mat-icon>
        +
      </button>
    </div>

    <div class="additional-controls" role="group" aria-label="Additional controls">
      <button
        mat-raised-button
        class="control-btn"
        (click)="onControlCommand('toggle-mute')"
        [attr.aria-pressed]="isMuted"
        [attr.aria-label]="isMuted ? 'Unmute' : 'Mute'">
        <mat-icon class="control-icon">{{ isMuted ? 'volume_off' : 'volume_up' }}</mat-icon>
        {{ isMuted ? 'Unmute' : 'Mute' }}
      </button>

      <button
        mat-raised-button
        class="control-btn"
        (click)="onControlCommand('toggle-fullscreen')"
        aria-label="Fullscreen">
        <mat-icon class="control-icon">fullscreen</mat-icon>
        Fullscreen
      </button>
    </div>
  </div>
</div>
