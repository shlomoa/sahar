<!-- Remote Application Layout -->
<div class="remote-container">
  <!-- Navigation Bar (10%) -->
  <mat-toolbar color="primary" class="remote-nav-bar">
    <span class="header-title">ðŸ“± SAHAR TV Remote</span>
    <button mat-icon-button (click)="onHomeClick()">
      <mat-icon>home</mat-icon>
    </button>

    <span class="spacer"></span>

    <span class="connection-status">
      {{connectionStatus === 'connected' ? 'ðŸŸ¢ Connected' : 
        connectionStatus === 'connecting' ? 'ðŸŸ¡ Connecting...' : 'ðŸ”´ Disconnected'}}
    </span>

  </mat-toolbar>

  <!-- Main Content Area (80%) -->
  <div class="main-content">
    @if (bothConnected) {
      <div class="navigation-content">
        <div class="content-with-back">
          <div class="data-view">
            @if (currentLevel !== 'playing') {
              <shared-navigation-root
                [level]="currentLevel"
                [performers]="currentPerformers"
                [videos]="currentVideos"
                [scenes]="currentScenes"
                [selectedPerformerId]="currentPerformer?.id"
                [clientType]="'remote'"
                (back)="onBackClick()"
                (home)="onHomeClick()"
                (selectPerformer)="navigateToPerformer($event)"
                (selectVideo)="navigateToVideo($event)"
                (selectScene)="navigateToScene($event)">
              </shared-navigation-root>
            }
            @if (currentLevel === 'playing') {
              <video-controls
                [currentVideo]="getCurrentVideo()"
                [currentScene]="getCurrentScene()"
                [sceneId]="currentScene?.id"
                [isPlaying]="isPlaying"
                [isMuted]="isMuted"
                [isFullscreen]="isFullscreen"
                [volumeLevel]="volumeLevel"
                [hasPreviousScene]="hasPreviousScene()"
                [hasNextScene]="hasNextScene()"
                (controlCommand)="sendControlCommand($event)"
                (volumeChange)="onVolumeChange($event)"
                (backToScenes)="navigateToScenes(currentVideo?.id ?? '')">
              </video-controls>
            }
          </div>
        </div>
      </div>
    }
  </div>
</div>

<router-outlet />
