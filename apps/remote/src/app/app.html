<!-- Remote Application Layout -->
<div class="remote-container">
  <!-- Accessibility: Button description panel (placed once at app root) -->
  <lib-button-description-panel></lib-button-description-panel>
  
  <!-- Navigation Bar (10%) -->
  <shared-app-toolbar
    #appToolbar
    [title]="'ðŸ“± SAHAR TV Remote'"
    [connectionStatus]="connectionStatus"
    [bothConnected]="bothConnected"
    (homeClick)="onHomeClick()">
  </shared-app-toolbar>

  <!-- Touch Area for Toolbar Show (upper-right invisible area) -->
  <div class="toolbar-touch-area" 
       (click)="showToolbarTemporarily()"
       (touchstart)="showToolbarTemporarily()">
  </div>

  <!-- Main Content Area (80%) -->
  <div class="main-content">
    @if (bothConnected) {
      <div class="navigation-content">
        <div class="content-with-back">
          <div class="data-view">
            @if (!isSceneSelected) {
              <shared-navigation-root
                [level]="currentLevel"
                [performers]="currentPerformers()"
                [videos]="currentVideos()"
                [scenes]="currentScenes()"
                [selectedPerformerId]="currentPerformer()?.id"
                [clientType]="'remote'"
                (back)="onBackClick()"
                (home)="onHomeClick()"
                (selectPerformer)="navigateToPerformer($event)"
                (selectVideo)="navigateToVideo($event)"
                (selectScene)="navigateToScene($event)">
              </shared-navigation-root>
            }
            @else {
              <video-controls
                [currentVideo]="getCurrentVideo()"
                [currentScene]="getCurrentScene()"
                [sceneId]="getCurrentScene().id"
                [playerState]="applicationState.player"                
                [hasPreviousScene]="hasPreviousScene()"
                [hasNextScene]="hasNextScene()"
                (controlCommand)="sendControlCommand($event)"
                (volumeChange)="onVolumeChange($event)"
                (backToScenes)="navigateToScenes(getCurrentVideo().id)">
              </video-controls>
            }
          </div>
        </div>
      </div>
    }
  </div>
</div>

<router-outlet />
