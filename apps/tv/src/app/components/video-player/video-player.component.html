<div class="video-player-container">

  @if (currentVideo) {
    <div class="video-info">
      <h2>{{ currentVideo.title }}</h2>
      @if (currentScene) {
        <p class="scene-info">
          ðŸŽ¬ {{ currentScene.title }}
        </p>
      }
    </div>
  }

  @if (videoId || (currentVideo?.url && getYouTubeId())) {
    <div class="youtube-player-wrapper" >
      <youtube-player
        #youtubePlayer
        [videoId]="videoId || getYouTubeId() || ''"
        [width]="playerWidth"
        [height]="playerHeight"
        [playerVars]="{
          autoplay: autoplay ? 1 : 0,
          controls: showControls ? 1 : 0,
          modestbranding: 1,
          rel: 0,
          showinfo: 0,
          enablejsapi: 1,
          playsinline: 1,
          iv_load_policy: 3,
          origin: origin
        }"
        (ready)="onPlayerReady($event)"
        (stateChange)="onStateChange($event)">
      </youtube-player>
    </div>
  }
  
  @if (!videoId && !currentVideo?.url) {
    <div class="no-video" >
      <div class="placeholder">
        <mat-icon>tv</mat-icon>
        <h3>No Video Selected</h3>
        <p>Select a scene from the remote to start playing</p>
      </div>
    </div>
  }

  @if (currentVideo && isPlayerReady) {
    <div class="player-controls">
      <div class="time-info">
        <span class="current-time">{{ formatTime(currentTime) }}</span>
        <span class="separator">/</span>
        <span class="total-time">{{ formatTime(duration) }}</span>
      </div>
    </div>
  }
  
</div>
