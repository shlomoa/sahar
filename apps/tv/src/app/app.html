<!-- TV Application Layout -->
<div class="tv-container">
  <!-- Navigation Bar (10%) -->
  <shared-app-toolbar
    [title]="'ðŸ“º SAHAR TV'"
    [connectionStatus]="connectionStatus"
    [bothConnected]="bothConnected"
    (homeClick)="onHomeClick()">
  </shared-app-toolbar>

  <!-- Main Content Area (80%) -->
  <div class="main-content">    
    @if (bothConnected) {
      <!-- Video Player (when scene selected) -->
      @if (isSceneSelected) {
        <div class="video-player-area" >
          <video-player            
            [playerState]="applicationState.player"
            [currentVideo]="currentVideo()"
            [currentScene]="currentScene()"
            (playerReady)="onPlayerReady()"
            (isPlaying)="onIsPlaying()"
            (videoPaused)="onVideoPaused()"
            (videoEnded)="onVideoEnded()"
            (timeUpdate)="onTimeUpdate($event)">
          </video-player>
        </div>
      } 
      @else {
        <shared-navigation-root
          [level]="currentLevel"
          [performers]="currentPerformers()"
          [videos]="currentVideos()"
          [scenes]="currentScenes()"
          [selectedPerformerId]="currentPerformer()?.id"
          [clientType]="'tv'"
          (back)="onBackClick()"
          (home)="onHomeClick()"
          (selectPerformer)="onPerformerSelected($event)"
          (selectVideo)="onVideoSelected($event)"
          (selectScene)="onSceneSelected($event)">
        </shared-navigation-root>
      }
    } @else {   
      <!-- QR Connection: Show Remote entry URL as QR. Hidden when Remote is connected -->
      <app-qr-connection [remoteUrl]="remoteUrl"></app-qr-connection>
    }
  </div>


</div>

<router-outlet />
